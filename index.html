<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Brutto-Netto-Rechner für Zeitarbeit (mit AZK & Nachtschicht) | TimePartner</title>
<meta name="description" content="Schneller Brutto-Netto-Rechner für Zeitarbeit mit AZK-Übersicht, 25 % Nachtzuschlag, Steuerklasse, Kirchensteuer & Krankenkasse.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@900&family=Nunito+Sans:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --tp-blue:#0b2d42;
  --tp-green:#b6de36;
  --tp-bg:#edf2f0;
  --tp-muted:#6b7b88;
  --tp-white:#fff;
  --tp-radius:14px;
}

/* === Grundlayout === */
*,*::before,*::after{box-sizing:border-box}
body{
  margin:0;
  background:var(--tp-bg) url("assets/img/hintergrund.jpg") center/cover no-repeat fixed;
  color:var(--tp-blue);
  font:400 16px/1.6 "Nunito Sans",sans-serif;
}
.container{max-width:1000px;margin:32px auto;padding:0 20px}
.card{
  background-color:rgba(255,255,255,0.95);
  border-radius:20px;
  box-shadow:0 10px 28px rgba(11,45,66,.1);
  padding:24px;
}

/* === Headline === */
header.hero h1{font:900 clamp(24px,5.5vw,34px)/1.18 "Poppins",sans-serif;margin:0 0 8px}
header.hero .lede{margin:0 0 10px;color:var(--tp-muted)}
.hero-bullets{display:flex;flex-wrap:wrap;gap:8px;list-style:none;padding:0}
.hero-bullets li{font-weight:700;font-size:12px;padding:8px 10px;border:1px solid #e3eaee;border-radius:999px;background:#f6faf7}

/* === Formular === */
fieldset{border:0;margin:22px 0 0;padding:0}
legend{margin:0 0 10px;font:900 18px/1.2 "Poppins"}
label{display:block;font-weight:700;margin:0 0 6px}
input,select{
  width:100%;padding:12px 14px;border:2px solid #c9d3da;border-radius:var(--tp-radius);
  background:#fff;color:var(--tp-blue);transition:border-color .2s,box-shadow .2s;
}
input:focus,select:focus{border-color:var(--tp-blue);box-shadow:0 0 0 3px rgba(11,45,66,.12)}
.hint{font-size:12px;color:var(--tp-muted);margin-top:6px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:20px}
.grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px}

/* === Buttons === */
.btn{display:inline-flex;align-items:center;justify-content:center;padding:16px 20px;
  font:700 16px/1 "Nunito Sans";border-radius:var(--tp-radius);cursor:pointer;border:2px solid var(--tp-green);
  transition:.2s;user-select:none}
.btn-primary{background:var(--tp-blue);color:#fff}
.btn-primary:hover{background:#143c59}
.btn-secondary{background:transparent;color:var(--tp-blue)}
.btn-secondary:hover{background:rgba(182,222,54,.12)}
@media(max-width:640px){.btn{width:100%}}

/* === Flacher Toggle === */
.switch{display:inline-grid;grid-auto-flow:column;align-items:center;gap:12px}
.switch input{
  appearance:none;width:44px;height:20px;border-radius:10px;background:#ccd5da;
  position:relative;cursor:pointer;transition:background .2s,border-color .2s;border:1px solid #c7d0d7;
}
.switch input::after{
  content:"";position:absolute;top:2px;left:2px;width:16px;height:16px;border-radius:8px;background:#fff;
  box-shadow:0 0 2px rgba(0,0,0,.15);transition:transform .2s ease;
}
.switch input:checked{background:var(--tp-green);border-color:var(--tp-green)}
.switch input:checked::after{transform:translateX(24px)}

/* === Ergebnisbereich === */
.result{margin-top:20px;background:#fff;border-radius:18px;padding:18px;box-shadow:0 8px 22px rgba(11,45,66,.08)}
.headline{display:flex;justify-content:space-between;align-items:baseline;gap:12px}
.headline .title{font:900 18px/1.1 "Poppins"}
.headline .net{font:900 28px/1 "Poppins";color:var(--tp-green)}
.bar{height:10px;background:#e4ecf1;border-radius:999px;overflow:hidden;margin-top:12px}
.bar>i{display:block;height:100%;background:linear-gradient(90deg,var(--tp-green),#cbf06e);width:0%}
.muted-note{font-size:12px;color:var(--tp-muted);margin-top:8px}
.hidden{display:none}

/* === Footer mit Logo === */
footer{text-align:center;margin:40px 0;color:var(--tp-muted)}
footer img{height:50px;filter:drop-shadow(0 0 4px rgba(0,0,0,.2));}
@media(max-width:640px){.container{padding:0 12px}}
</style>
</head>

<body>
<main class="container">
  <header class="card hero">
    <h1>Brutto-Netto-Rechner für Zeitarbeit (mit AZK & Nachtschicht)</h1>
    <p class="lede">In wenigen Eingaben dein <strong>Netto</strong> – mit <strong>AZK</strong>, <strong>25&nbsp;% Nachtzuschlag</strong>, <strong>Steuerklasse</strong>, <strong>Kirchensteuer</strong> &amp; <strong>Krankenkasse</strong>.</p>
    <ul class="hero-bullets"><li>Stundenlohn &amp; Monatsstunden</li><li>AZK transparent</li><li>Schnell zum Netto</li></ul>
  </header>

  <section id="intro" class="card">
    <h2>Los geht’s – dein Beruf</h2>
    <label for="job">Beruf / Tätigkeit</label>
    <input id="job" type="text" placeholder="z. B. Lagerhelfer, Produktionsmitarbeiter, Pflegekraft">
    <p class="hint">Nur zur Verbesserung des Rechners. Keine personenbezogenen Daten.</p>
    <button id="startBtn" class="btn btn-secondary">Rechner starten</button>
  </section>

  <section id="tool" class="hidden">
    <section class="card">
      <h2>Eingaben</h2>
      <form id="calcForm" novalidate>
        <fieldset>
          <legend>Basis</legend>
          <div class="grid-2">
            <div>
              <label for="hourly">Stundenlohn (EUR/Std)</label>
              <input id="hourly" type="number" step="0.01" value="15">
            </div>
            <div>
              <label for="hoursActual">Gesamtstunden (Monat)</label>
              <input id="hoursActual" type="number" value="160">
            </div>
          </div>
        </fieldset>

        <fieldset>
          <legend>Nachtschicht</legend>
          <div class="grid-2">
            <div class="switch">
              <input id="permanent" type="checkbox">
              <label for="permanent">Dauernachtschicht (100 % Nachtstunden)</label>
            </div>
            <div id="nightBox">
              <label for="nightHours">Nachtstunden (Monat)</label>
              <input id="nightHours" type="number" value="20">
            </div>
          </div>
        </fieldset>

        <fieldset>
          <legend>Steuern & Sozialversicherung</legend>
          <div class="grid-3">
            <div>
              <label for="state">Bundesland</label>
              <select id="state">
                <option>Bayern</option><option selected>Nordrhein-Westfalen</option><option>Hessen</option><option>Sachsen</option>
              </select>
              <div class="switch" style="margin-top:10px">
                <input id="church" type="checkbox">
                <label for="church">Kirchensteuerpflichtig</label>
              </div>
            </div>
            <div>
              <label for="taxClass">Steuerklasse</label>
              <select id="taxClass">
                <option value="1">I</option><option value="2">II</option><option value="3" selected>III</option><option value="4">IV</option>
              </select>
            </div>
            <div>
              <label for="health">Krankenkasse – Zusatzbeitrag (%)</label>
              <input id="health" type="number" step="0.1" value="1.6">
            </div>
          </div>

          <div class="grid-3" style="margin-top:18px">
            <div>
              <label for="childless">Kinder vorhanden?</label>
              <select id="childless">
                <option value="no" selected>ja (mit Kind)</option>
                <option value="yes">nein (kinderlos)</option>
              </select>
            </div>
            <div id="childCount">
              <label for="children">Kinder (Anzahl)</label>
              <input id="children" type="number" min="0" step="1" value="0">
            </div>
          </div>
        </fieldset>

        <button id="calc" type="button" class="btn btn-primary">Netto berechnen</button>
      </form>
    </section>

    <section id="resultWrap" class="card hidden">
      <h2>Ergebnis</h2>
      <div id="summary" class="result"></div>
      <details><summary>Berechnung im Detail</summary><div id="details" class="rows"></div></details>
      <button id="recalc" class="btn btn-secondary" style="margin-top:14px">Neu berechnen</button>
    </section>
  </section>

  <footer>
    <img src="assets/img/tp-weiss.svg" alt="TimePartner Logo weiß">
    <p>TimePartner – Make Work Work.</p>
  </footer>
</main>

<script>
(function(){
  const $=id=>document.getElementById(id);
  const HOURS=151.67;
  const euro=n=>new Intl.NumberFormat('de-DE',{style:'currency',currency:'EUR'}).format(n);
  const clamp=(v,a,b)=>Math.min(b,Math.max(a,v));
  const churchPct=s=>(s==="Bayern"||s==="Baden-Württemberg")?8:9;

  $('startBtn').onclick=()=>{
    const j=$('job').value.trim();
    if(!j)return $('job').focus();
    localStorage.tp_job=j;
    $('intro').classList.add('hidden');
    $('tool').classList.remove('hidden');
  };
  $('permanent').onchange=e=>$('nightBox').classList.toggle('hidden',e.target.checked);
  $('childless').onchange=e=>$('childCount').style.display=(e.target.value==='no')?'block':'none';

  function sv(g,z,cl,s){
    const kv=g*(0.073+z/200),rv=g*0.093,av=g*0.013;
    let pv=g*(cl?0.023:0.017);
    if(s==="Sachsen")pv+=g*0.0035;
    return{t:kv+rv+av+pv,kv,rv,av,pv};
  }
  function tax(t,c,k){
    const r={"1":.16,"2":.15,"3":.08,"4":.16,"5":.24,"6":.30}[c]??.16;
    const rel=Math.min(.02,.01*(+k||0));
    return{a:t*Math.max(0,r-rel),r};
  }

  function calc(){
    const h=+$('hourly').value||0,hs=+$('hoursActual').value||0,nh=+$('nightHours').value||0,
          p=$('permanent').checked,s=$('state').value,c=$('taxClass').value,
          z=+$('health').value||1.6,k=+$('children').value||0,
          cl=$('childless').value==="yes",ch=$('church').checked;
    const b=h*HOURS,ex=Math.max(0,hs-HOURS),azk=ex*h,f=p?1:(hs?clamp(nh/hs,0,1):0),n=b*.25*f;
    const g=b+n,S=sv(g,z,cl,s),tx=tax(Math.max(0,g-S.t),c,k);
    const cp=ch?churchPct(s):0,chs=tx.a*(cp/100),ded=S.t+tx.a+chs,net=g-ded,pct=Math.round(net/g*100);
    $('summary').innerHTML=`
      <div class="headline"><div class="title">Dein Netto</div><div class="net">${euro(net)}</div></div>
      <div class="bar"><i style="width:${pct}%"></i></div>
      <p class="muted-note">Diese Berechnung ist eine vereinfachte, realistische Netto-Schätzung für Zeitarbeit. Abweichungen von ca. ±5&nbsp;% sind möglich.</p>`;
    $('details').innerHTML=`
      <div class="row head"><span>Grundlage</span></div>
      <div class="row"><span>Stundenlohn × 151,67 Std</span><span>${euro(b)}</span></div>
      <div class="row"><span>Nachtzuschlag (25 % · ${p?'Dauernacht':(f*100).toFixed(0)+' %'})</span><span>+ ${euro(n)}</span></div>
      <div class="row"><span>AZK-Zuwachs</span><span>+ ${ex.toFixed(2)} Std (${euro(azk)})</span></div>`;
    $('resultWrap').classList.remove('hidden');
  }

  $('calc').onclick=calc;
  $('recalc').onclick=()=>{
    $('resultWrap').classList.add('hidden');
    document.querySelector('#tool form').scrollIntoView({behavior:'smooth'});
  };
})();
</script>
</body>
</html>
