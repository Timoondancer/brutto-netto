<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Brutto-Netto-Rechner für Zeitarbeit (mit AZK & Nachtschicht)</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@900&family=Nunito+Sans:wght@400;700&display=swap" rel="stylesheet" />
<style>
:root{--tp-blue:#0b2d42;--tp-green:#b6de36;--tp-bg:#edf2f0;--tp-muted:#6f8a9b;--radius:14px}
body{margin:0;font:400 16px/1.6 "Nunito Sans",sans-serif;color:var(--tp-blue);
background:var(--tp-bg) url("assets/img/hintergrund.png") center/cover fixed}
.container{max-width:1200px;margin:32px auto;padding:0 20px}
.card{border-radius:20px;box-shadow:0 10px 26px rgba(11,45,66,.16)}
.card.hero{background:linear-gradient(180deg,#0b2d42,#123a57);color:#fff;padding:28px}
.card.panel{background:#fff;padding:20px;border:1px solid #dfe6ea}
.card.result{background:#fff;padding:24px;border:1px solid #dfe6ea}
h1{font:900 clamp(26px,4.6vw,40px)/1.15 "Poppins";margin:0}
h2{font:900 20px/1.2 "Poppins";margin:0 0 12px}
input,select{width:100%;padding:14px 16px;border-radius:var(--radius);border:2px solid #c9d3da}
input:focus,select:focus{border-color:var(--tp-green)}
.grid-2{display:grid;grid-template-columns:1fr;gap:18px}
.grid-3{display:grid;grid-template-columns:1fr;gap:18px}
.btn{padding:15px 18px;font:700 16px "Nunito Sans";border-radius:var(--radius);
border:2px solid var(--tp-green);cursor:pointer}
.btn-primary{background:var(--tp-blue);color:#fff}
.form-actions{margin-top:24px}
@media(min-width:1120px){
.layout{display:grid;grid-template-columns:minmax(600px,1fr) 500px;gap:32px}
.grid-2{grid-template-columns:1fr 1fr;gap:22px}
.grid-3{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:22px}}
.autocomplete{position:relative}
.suggestions{position:absolute;left:0;right:0;top:calc(100% + 6px);background:#fff;
border:1px solid #dfe6ea;border-radius:12px;box-shadow:0 14px 28px rgba(11,45,66,.14);
max-height:360px;overflow:auto;display:none;z-index:9999}
.suggestions.show{display:block}
.suggestions li{list-style:none;padding:10px 14px;cursor:pointer}
.suggestions li:hover{background:#f3f8e9}
.hidden{display:none}
</style>
</head>
<body>
<main class="container">
<header class="card hero"><h1>Brutto-Netto-Rechner für Zeitarbeit</h1></header>

<section id="intro" class="card panel">
  <h2>Los geht’s – dein Beruf</h2>
  <label for="job">Beruf / Tätigkeit</label>
  <div class="autocomplete">
    <input id="job" type="text" autocomplete="off" placeholder="Tippe mind. 4 Zeichen">
    <ul id="jobSuggest" class="suggestions" role="listbox"></ul>
  </div>
  <p class="hint">Mindestens 4 Zeichen eingeben – max. 34 Vorschläge (oder frei eingeben).</p>
  <div style="margin-top:12px"><button id="startBtn" class="btn btn-primary" type="button">Rechner starten</button></div>
</section>

<section id="tool" class="layout hidden">
<section class="card panel">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:6px">
    <h2 style="margin:0">Eingaben</h2>
    <button id="backBtn" class="btn" type="button">Zurück</button>
  </div>
  <form id="calcForm" novalidate>
    <fieldset><legend>Basis</legend>
      <div class="grid-2">
        <div><label for="hourly">Stundenlohn</label><input id="hourly" type="number" value="15"></div>
        <div><label for="hoursActual">Gesamtstunden</label><input id="hoursActual" type="number" value="160"></div>
      </div>
    </fieldset>
    <fieldset><legend>Nachtschicht</legend>
      <div class="grid-2">
        <div class="switch"><input id="permanent" type="checkbox"><label for="permanent">Dauernacht</label></div>
        <div id="nightBox"><label for="nightHours">Nachtstunden</label><input id="nightHours" type="number" value="20"></div>
      </div>
    </fieldset>
    <fieldset><legend>Steuern & Sozialversicherung</legend>
      <div class="grid-3">
        <div><label for="state">Bundesland</label><select id="state"><option>NRW</option><option>Bayern</option><option>Berlin</option></select></div>
        <div><label for="taxClass">Steuerklasse</label><select id="taxClass"><option>I</option><option>II</option><option selected>III</option></select></div>
        <div><label for="health">Krankenkasse (%)</label><input id="health" type="number" step="0.1" value="1.7"></div>
      </div>
    </fieldset>
    <div class="form-actions"><button id="calc" type="button" class="btn btn-primary">Netto berechnen</button></div>
  </form>
</section>
<aside id="resultWrap" class="card result sticky hidden">
  <h2>Ergebnis</h2>
  <div id="netOut">–</div>
</aside>
</section>
</main>

<script>
const $=id=>document.getElementById(id);
$('startBtn').onclick=()=>{$('intro').classList.add('hidden');$('tool').classList.remove('hidden');};
$('backBtn').onclick=()=>{$('tool').classList.add('hidden');$('intro').classList.remove('hidden');};
$('permanent').onchange=e=>{$('nightBox').classList.toggle('hidden',e.target.checked)};
$('calc').onclick=()=>{$('netOut').textContent='Berechnung läuft...'};

/* Autocomplete */
const JOBS=[],MAX=34,inp=$('job'),list=$('jobSuggest');
function render(a){if(!a.length){list.classList.remove('show');list.innerHTML='';return}
list.innerHTML=a.slice(0,MAX).map(t=>`<li>${t}</li>`).join('');list.classList.add('show')}
inp.oninput=()=>{const q=inp.value.trim().toLowerCase();if(q.length<4)return render([]);
render(JOBS.filter(x=>x.toLowerCase().includes(q)).slice(0,MAX))}
list.onclick=e=>{if(e.target.tagName==='LI'){inp.value=e.target.textContent;list.classList.remove('show')}}
document.addEventListener('click',e=>{if(!list.contains(e.target)&&e.target!==inp)list.classList.remove('show')});
(async()=>{try{const r=await fetch('assets/data/jobtitel.csv');const t=await r.text();JOBS.push(...new Set(t.split(/\n/).filter(Boolean)))}catch{JOBS.push("Lagerhelfer","Pflegekraft","Staplerfahrer")}})();
</script>
</body></html>